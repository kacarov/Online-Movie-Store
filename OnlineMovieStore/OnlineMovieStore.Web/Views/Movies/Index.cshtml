@model AllMoviesViewModel
@{
    ViewData["Title"] = "Index";
}

<h2>Index</h2>

<form asp-action="Index" asp-controller="Movies" method="GET">
    <div class="row">

        <div class="col-xs-6 col-md-4">

            <div class="input-group">

                <input asp-for="@Model.SearchText" class="form-control" placeholder="Search" id="txtSearch" />

            </div>
        </div>
    </div>
</form>

<div id="example_wrapper" class="dataTables_wrapper form-inline dt-bootstrap">
    <div class="row"><div class="col-sm-6"><div class="dataTables_length" id="example_length"><label>Show <select name="example_length" aria-controls="example" class="form-control input-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-6"><div id="example_filter" class="dataTables_filter"></div></div></div><div class="row">
        <div class="col-sm-12">
            <table id="example" class="table table-striped table-bordered dataTable" style="width: 100%;" role="grid" aria-describedby="example_info">
                <thead>
                    <tr role="row"><th class="sorting_asc" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 45px;">Title</th><th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 53px;">Year</th><th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 41px;">Added On</th><th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Age: activate to sort column ascending" style="width: 26px;">Price</th><th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 50px;">Start date</th><th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 51px;">Salary</th></tr>
                </thead>
                <tbody>
                    @{int count = 1; }
                    @foreach (var movie in Model.Movies)
                    {
                        if (count % 2 == 0)
                        {
                            <tr role="row" class="even">
                                <td class="sorting_1"><a asp-controller="Movies" asp-action="Details" asp-route-title="@movie.Title">@movie.Title</a></td>
                                <td>@movie.Year</td>
                                <td>@movie.AddedOn</td>
                                <td>@movie.Price$</td>

                            </tr>
                        }
                        else
                        {
                            <tr role="row" class="odd">
                                <td class="sorting_1"><a asp-controller="Movies" asp-action="Details" asp-route-title="@movie.Title">@movie.Title</a></td>
                                <td>@movie.Year</td>
                                <td>@movie.AddedOn</td>
                                <td>@movie.Price$</td>
                            </tr>
                        }
                    }

                </tbody>
                <tfoot>
                    <tr><th rowspan="1" colspan="1">Name</th><th rowspan="1" colspan="1">Position</th><th rowspan="1" colspan="1">Office</th><th rowspan="1" colspan="1">Age</th><th rowspan="1" colspan="1">Start date</th><th rowspan="1" colspan="1">Salary</th></tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-5">
            <div class="dataTables_info" id="example_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div>
        </div>
        <div class="col-sm-7">
            <div class="dataTables_paginate paging_simple_numbers" id="example_paginate">
                <ul class="pagination">
                    <li class="paginate_button previous disabled" id="example_previous"><a href="#" aria-controls="example" data-dt-idx="0" tabindex="0">Previous</a></li>
                    <li class="paginate_button active">
                        <a href="#" aria-controls="example" data-dt-idx="1" tabindex="0">1</a>
                        <a href="#">Page 1</a>
                    </li>
                    <li class="paginate_button ">
                        <a href="#" aria-controls="example" data-dt-idx="2" tabindex="0">2</a>
                        <a asp-controller="Movies" asp-action="Index" asp-route-page="2" asp-route-search="skalata">test page 2</a>
                    </li>
                    @for (int i = 0; i < Model.TotalPages; i++)
                    {
                        <li class="paginate_button "><a href="#" aria-controls="example" data-dt-idx="3" tabindex="0">batkovi @i  </a></li>
                    }
                    <li class="paginate_button "><a href="#" aria-controls="example" data-dt-idx="3" tabindex="0">3</a></li>
                    <li class="paginate_button "><a href="#" aria-controls="example" data-dt-idx="4" tabindex="0">4</a></li>
                    <li class="paginate_button "><a href="#" aria-controls="example" data-dt-idx="5" tabindex="0">5</a></li>
                    <li class="paginate_button "><a href="#" aria-controls="example" data-dt-idx="6" tabindex="0">6</a></li>
                    <li class="paginate_button next" id="example_next">
                        <a href="#" aria-controls="example" data-dt-idx="7" tabindex="0">Next</a>
                        <a asp-controller="Movies" asp-action="Index" asp-route-page="@Model.NextPage" asp-route-search="@Model.SearchText" >NEXT</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

